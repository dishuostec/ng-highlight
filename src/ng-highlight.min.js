angular.module("ng-highlight",[]).directive("ngHighlight",function(){var a=function(b,c,d,e){if(3===b.nodeType){var f=b.data.match(c);if(f){var g=document.createElement(d||"span");g.className=e||"wrapper";var h=b.splitText(f.index);h.splitText(f[0].length);var i=h.cloneNode(!0);return g.appendChild(i),h.parentNode.replaceChild(g,h),1}}else if(1===b.nodeType&&b.childNodes&&!/(script|style)/i.test(b.tagName)&&(b.tagName!==d.toUpperCase()||b.className!==e))for(var j=0;j<b.childNodes.length;j++)j+=a(b.childNodes[j],c,d,e);return 0},b=function(b,c,d){if(void 0!==b&&0!==b.length){b=b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");var e=d.caseSensitive?"":"i",f="("+b+")";d.wholeWord&&(f="\\b"+f+"\\b");var g=new RegExp(f,e);a(c,g,d.element,d.className)}},c=function(a,b){angular.forEach(a.find(b.element),function(a){if(a.className===b.className){var c=a.parentNode;c.replaceChild(a.firstChild,a),c.normalize()}})};return{replace:!1,restrict:"A",scope:{keyword:"&ngHighlight"},link:function(a,d,e){var f={className:"highlight",element:"span",caseSensitive:!1,wholeWord:!1};void 0!==e.hlClass&&(f.className=e.hlClass),void 0!==e.hlElement&&(f.element=e.hlElement),void 0!==e.hlCaseSensitive&&(f.caseSensitive="false"===e.hlCaseSensitive?!1:!!e.hlCaseSensitive),void 0!==e.hlMatchWholeWord&&(f.wholeWord="false"===e.hlMatchWholeWord?!1:!!e.hlMatchWholeWord),a.$watch(a.keyword,function(a){c(d,f),b(a,d[0],f)})}}});